<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{ /layout/basic-layout }">

<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/menuModify.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap"
        rel="stylesheet">
    
</th:block>

<div layout:fragment="content">
    <div class="frontFont">
        <h1> 메뉴 수정 페이지 </h1>
    </div>
    <form id="formModify">
    <div class="Container">
            <div>
                <div class="div_label">
                    <label for="kind" class="form-label">분류 번호</label>
                </div>
                <br/>
                <input id="kind" name="kind" class="inputs" th:value="${ menu.kind }" readonly />
            </div>
            
            <br/>
            
            <div>
                <div class="div_label">
                    <label for="menuId" class="form-label">메뉴 번호</label>
                </div>
                <br/>
                <input id="menuId" name="id" class="inputs" th:value="${ menu.menuId }" readonly />
            </div>
            
            <br/>
            
            <div>
                <div class="div_label">
                    <label for="menuName" class="form-label">메뉴 이름</label>
                </div>                
                <br/>
                <input id="menuName" name="menuName" class="inputs" th:value="${ menu.menuName }" autofocus />
            </div>
            
            <br/>
            
            <div>
                <div class="div_label">
                    <label for="menuEnName" class="form-label">메뉴 이름(영어)</label>
                </div>
                <br/>
                <input id="menuEnName" name="menuEnName" class="inputs" th:value="${ menu.menuEnName }" />
            </div>
            
            <br/>
            
            <div>
                <div class="div_label">
                    <label for="price" class="form-label">가격</label>
                </div>
                <br/>
                <input id="price" name="price" class="inputs" th:value="${ menu.price }"/>
            </div>
            
            <br/>
            
            <div>
                <div class="div_label">
                    <label for="content" class="form-label inputs">내용</label>
                    <br/><br/>
                    <textarea id="content" name="content" class="inputs" th:text="${ menu.content }"></textarea>
                </div>
                <br/>
                
            </div>
            
            <br/>
            

            
            <br/><br/>




        







<div class="editArea">
    <div class="btnConfigDiv" style="text-align: right;">
        <div class="div_label">
            <button class="buttons btn btn-danger" id="btnDelete">삭제</button>
            <br/><br/>
            <button class="buttons btn btn-success" id="btnUpdate">수정 완료</button>
        </div>
    </div>
</div> <!-- editArea -->
</div>






</form>
</div>  <!-- layout:fragment -->



<th:block layout:fragment="script" th:inline="javaScript">
<script>

const formModify = document.querySelector('#formModify');

//삭제 이벤트 리스너.
const btnDelete = document.querySelector('#btnDelete');
btnDelete.addEventListener('click', function () {
 const result = confirm('정말 삭제하시겠습니까?');
 if (result) {
     formModify.action = '/menu/delete';
     formModify.method = 'post';
     formModify.submit();
 }
});

//수정 이벤트 리스너.
const btnUpdate = document.querySelector('#btnUpdate');
btnUpdate.addEventListener('click', function () {
    const menuName = document.querySelector('#menuName').value;
    const price = document.querySelector('#price').value;
    if (menuName == '' || price == '') {
        alert('제목과 내용은 반드시 입력.');
        return;
    }
    
    const result = confirm('정말 수정하시겠습니까?');
    if (result) {
        formModify.action = '/menu/update';
        formModify.method = 'post';
        formModify.submit();
    }
});
</script>

    <script>
/* const besideMenus = [[${ besideMenu }]]; */
</script>
    
</th:block>

</html>